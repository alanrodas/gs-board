<!DOCTYPE html><html><head><meta charset="utf-8">
<!--<link rel="import" href="bower_components/polymer/polymer.html">-->
</head><body><div hidden="" by-vulcanize=""><dom-module id="gs-stone" assetpath="/">
  <template>
    <style>
      .pointer {
        cursor: pointer;
      }

      .unselectable, .gbs_stone {
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
      }

      ::content div.blue {
        background-image: url("data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%20standalone%3D%22no%22%3F%3E%0A%3Csvg%20id%3D%22svg2%22%20xmlns%3Ardf%3D%22http%3A//www.w3.org/1999/02/22-rdf-syntax-ns%23%22%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20height%3D%2250mm%22%20width%3D%2250mm%22%20version%3D%221.1%22%20xmlns%3Acc%3D%22http%3A//creativecommons.org/ns%23%22%20xmlns%3Adc%3D%22http%3A//purl.org/dc/elements/1.1/%22%20viewBox%3D%220%200%20177.16535%20177.16535%22%3E%0A%20%3Cmetadata%20id%3D%22metadata4%22%3E%0A%20%20%3Crdf%3ARDF%3E%0A%20%20%20%3Ccc%3AWork%20rdf%3Aabout%3D%22%22%3E%0A%20%20%20%20%3Cdc%3Aformat%3Eimage/svg+xml%3C/dc%3Aformat%3E%0A%20%20%20%20%3Cdc%3Atype%20rdf%3Aresource%3D%22http%3A//purl.org/dc/dcmitype/StillImage%22/%3E%0A%20%20%20%20%3Cdc%3Atitle/%3E%0A%20%20%20%3C/cc%3AWork%3E%0A%20%20%3C/rdf%3ARDF%3E%0A%20%3C/metadata%3E%0A%20%3Cellipse%20id%3D%22ellipse8%22%20rx%3D%2288.184%22%20ry%3D%2288.715%22%20cy%3D%2288.64%22%20cx%3D%2288.641%22%20fill%3D%22%232a7fff%22/%3E%0A%20%3Cpath%20id%3D%22path10%22%20d%3D%22m171.5%2059.51c3.8341%209.671%205.9385%2020.183%205.9385%2031.178%200%2047.861-39.767%2086.675-88.804%2086.675-49.035%200-88.802-38.814-88.802-86.675%200-11.546%202.321-22.563%206.5203-32.638%200.65931%201.4104%201.2522%202.2175%202.3526%203.2916%200.35416%201.0386%200.78421%201.6358%201.3755%202.1681-7.3662%2020.277-6.1393%2043.028%203.4436%2062.435%2054.759-46.096%2078.905%2015.358%20153.35-15.895%205.0041-18.979%207.0041-31.152-1.2712-50.54h5.8942z%22%20fill%3D%22%230055d4%22/%3E%0A%20%3Cellipse%20id%3D%22ellipse12%22%20rx%3D%227.2374%22%20ry%3D%227.2809%22%20cy%3D%2240.65%22%20cx%3D%2255.881%22%20fill%3D%22%23fff%22/%3E%0A%20%3Cellipse%20id%3D%22ellipse14%22%20rx%3D%224.0266%22%20ry%3D%224.0508%22%20cy%3D%2231.7%22%20cx%3D%2260.102%22%20fill%3D%22%23fff%22/%3E%0A%20%3Cpath%20id%3D%22path16%22%20d%3D%22m170.51%2094.27c-0.7628%204.8812-1.991%209.9925-3.5039%2015.73-22.254%209.3418-40.012%2010.398-55.438%208.5215a61.964%2057.5%200%200%200%20-11.02%2032.707%2061.964%2057.5%200%200%200%205.9121%2024.359c38.986-7.6985%2068.715-40.328%2070.965-80.098a61.964%2057.5%200%200%200%20-6.916%20-1.2207z%22%20fill%3D%22%2304a%22/%3E%0A%3C/svg%3E%0A");
        background-size: 20px 20px;
      }
      ::content div.black {
        background-image: url("data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%20standalone%3D%22no%22%3F%3E%0A%3Csvg%20id%3D%22svg2%22%20xmlns%3Ardf%3D%22http%3A//www.w3.org/1999/02/22-rdf-syntax-ns%23%22%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20height%3D%2250mm%22%20width%3D%2250mm%22%20version%3D%221.1%22%20xmlns%3Acc%3D%22http%3A//creativecommons.org/ns%23%22%20xmlns%3Adc%3D%22http%3A//purl.org/dc/elements/1.1/%22%20viewBox%3D%220%200%20177.16535%20177.16535%22%3E%0A%20%3Cmetadata%20id%3D%22metadata4%22%3E%0A%20%20%3Crdf%3ARDF%3E%0A%20%20%20%3Ccc%3AWork%20rdf%3Aabout%3D%22%22%3E%0A%20%20%20%20%3Cdc%3Aformat%3Eimage/svg+xml%3C/dc%3Aformat%3E%0A%20%20%20%20%3Cdc%3Atype%20rdf%3Aresource%3D%22http%3A//purl.org/dc/dcmitype/StillImage%22/%3E%0A%20%20%20%20%3Cdc%3Atitle/%3E%0A%20%20%20%3C/cc%3AWork%3E%0A%20%20%3C/rdf%3ARDF%3E%0A%20%3C/metadata%3E%0A%20%3Cellipse%20id%3D%22ellipse8%22%20rx%3D%2288.184%22%20ry%3D%2288.715%22%20cy%3D%2288.64%22%20cx%3D%2288.641%22%20fill%3D%22%23292929%22/%3E%0A%20%3Cpath%20id%3D%22path10%22%20d%3D%22m171.5%2059.51c3.8341%209.671%205.9385%2020.183%205.9385%2031.178%200%2047.861-39.767%2086.675-88.804%2086.675-49.035%200-88.802-38.814-88.802-86.675%200-11.546%202.321-22.563%206.5203-32.638%200.65931%201.4104%201.2522%202.2175%202.3526%203.2916%200.35416%201.0386%200.78421%201.6358%201.3755%202.1681-7.3662%2020.277-6.1393%2043.028%203.4436%2062.435%2054.759-46.096%2078.905%2015.358%20153.35-15.895%205.0041-18.979%207.0041-31.152-1.2712-50.54h5.8942z%22%20fill%3D%22%23202020%22/%3E%0A%20%3Cellipse%20id%3D%22ellipse12%22%20rx%3D%227.2374%22%20ry%3D%227.2809%22%20cy%3D%2240.65%22%20cx%3D%2255.881%22%20fill%3D%22%23fff%22/%3E%0A%20%3Cellipse%20id%3D%22ellipse14%22%20rx%3D%224.0266%22%20ry%3D%224.0508%22%20cy%3D%2231.7%22%20cx%3D%2260.102%22%20fill%3D%22%23fff%22/%3E%0A%20%3Cpath%20id%3D%22path16%22%20d%3D%22m170.51%2094.27c-0.7628%204.8812-1.991%209.9925-3.5039%2015.73-22.254%209.3418-40.012%2010.398-55.438%208.5215a61.964%2057.5%200%200%200%20-11.02%2032.707%2061.964%2057.5%200%200%200%205.9121%2024.359c38.986-7.6985%2068.715-40.328%2070.965-80.098a61.964%2057.5%200%200%200%20-6.916%20-1.2207z%22%20fill%3D%22%23131313%22/%3E%0A%3C/svg%3E%0A");
        background-size: 20px 20px;
      }
      ::content div.red {
        background-image: url("data:image/svg+xml,%3Csvg%20xmlns%3Ardf%3D%22http%3A//www.w3.org/1999/02/22-rdf-syntax-ns%23%22%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20height%3D%2250mm%22%20width%3D%2250mm%22%20version%3D%221.1%22%20xmlns%3Acc%3D%22http%3A//creativecommons.org/ns%23%22%20xmlns%3Adc%3D%22http%3A//purl.org/dc/elements/1.1/%22%20viewBox%3D%220%200%20177.16535%20177.16535%22%3E%0A%3Cmetadata%3E%0A%3Crdf%3ARDF%3E%0A%3Ccc%3AWork%20rdf%3Aabout%3D%22%22%3E%0A%3Cdc%3Aformat%3Eimage/svg+xml%3C/dc%3Aformat%3E%0A%3Cdc%3Atype%20rdf%3Aresource%3D%22http%3A//purl.org/dc/dcmitype/StillImage%22/%3E%0A%3Cdc%3Atitle/%3E%0A%3C/cc%3AWork%3E%0A%3C/rdf%3ARDF%3E%0A%3C/metadata%3E%0A%3Cg%20transform%3D%22translate%280%20-875.2%29%22%3E%0A%3Cellipse%20rx%3D%2288.184%22%20ry%3D%2288.715%22%20cy%3D%22963.84%22%20cx%3D%2288.641%22%20fill%3D%22%23d40000%22/%3E%0A%3Cpath%20fill%3D%22%23b10000%22%20d%3D%22m171.5%20934.71c3.8341%209.671%205.9385%2020.183%205.9385%2031.178%200%2047.861-39.767%2086.675-88.804%2086.675-49.035%200-88.802-38.814-88.802-86.675%200-11.546%202.321-22.563%206.5203-32.638%200.65931%201.4104%201.2522%202.2175%202.3526%203.2916%200.35416%201.0386%200.78421%201.6358%201.3755%202.1681-7.3662%2020.277-6.1393%2043.028%203.4436%2062.435%2054.759-46.096%2078.905%2015.358%20153.35-15.895%205.0041-18.979%207.0041-31.152-1.2712-50.54h5.8942z%22/%3E%0A%3Cellipse%20rx%3D%227.2374%22%20ry%3D%227.2809%22%20cy%3D%22915.85%22%20cx%3D%2255.881%22%20fill%3D%22%23fff%22/%3E%0A%3Cellipse%20rx%3D%224.0266%22%20ry%3D%224.0508%22%20cy%3D%22906.9%22%20cx%3D%2260.102%22%20fill%3D%22%23fff%22/%3E%0A%3Cpath%20fill%3D%22%23800%22%20d%3D%22m170.51%20969.47c-0.7628%204.8812-1.991%209.9925-3.5039%2015.73-22.254%209.3418-40.012%2010.398-55.438%208.5215a61.964%2057.5%200%200%200%20-11.02%2032.707%2061.964%2057.5%200%200%200%205.9121%2024.359c38.986-7.6985%2068.715-40.328%2070.965-80.098a61.964%2057.5%200%200%200%20-6.916%20-1.2207z%22/%3E%0A%3C/g%3E%0A%3C/svg%3E%0A");
        background-size: 20px 20px;
      }
      ::content div.green {
        background-image: url("data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%20standalone%3D%22no%22%3F%3E%0A%3Csvg%20id%3D%22svg2%22%20xmlns%3Ardf%3D%22http%3A//www.w3.org/1999/02/22-rdf-syntax-ns%23%22%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20height%3D%2250mm%22%20width%3D%2250mm%22%20version%3D%221.1%22%20xmlns%3Acc%3D%22http%3A//creativecommons.org/ns%23%22%20xmlns%3Adc%3D%22http%3A//purl.org/dc/elements/1.1/%22%20viewBox%3D%220%200%20177.16535%20177.16535%22%3E%0A%20%3Cmetadata%20id%3D%22metadata4%22%3E%0A%20%20%3Crdf%3ARDF%3E%0A%20%20%20%3Ccc%3AWork%20rdf%3Aabout%3D%22%22%3E%0A%20%20%20%20%3Cdc%3Aformat%3Eimage/svg+xml%3C/dc%3Aformat%3E%0A%20%20%20%20%3Cdc%3Atype%20rdf%3Aresource%3D%22http%3A//purl.org/dc/dcmitype/StillImage%22/%3E%0A%20%20%20%20%3Cdc%3Atitle/%3E%0A%20%20%20%3C/cc%3AWork%3E%0A%20%20%3C/rdf%3ARDF%3E%0A%20%3C/metadata%3E%0A%20%3Cellipse%20id%3D%22ellipse8%22%20rx%3D%2288.184%22%20ry%3D%2288.715%22%20cy%3D%2288.64%22%20cx%3D%2288.641%22%20fill%3D%22%2337c837%22/%3E%0A%20%3Cpath%20id%3D%22path10%22%20d%3D%22m171.5%2059.51c3.8341%209.671%205.9385%2020.183%205.9385%2031.178%200%2047.861-39.767%2086.675-88.804%2086.675-49.035%200-88.802-38.814-88.802-86.675%200-11.546%202.321-22.563%206.5203-32.638%200.65931%201.4104%201.2522%202.2175%202.3526%203.2916%200.35416%201.0386%200.78421%201.6358%201.3755%202.1681-7.3662%2020.277-6.1393%2043.028%203.4436%2062.435%2054.759-46.096%2078.905%2015.358%20153.35-15.895%205.0041-18.979%207.0041-31.152-1.2712-50.54h5.8942z%22%20fill%3D%22%232ca02c%22/%3E%0A%20%3Cellipse%20id%3D%22ellipse12%22%20rx%3D%227.2374%22%20ry%3D%227.2809%22%20cy%3D%2240.65%22%20cx%3D%2255.881%22%20fill%3D%22%23fff%22/%3E%0A%20%3Cellipse%20id%3D%22ellipse14%22%20rx%3D%224.0266%22%20ry%3D%224.0508%22%20cy%3D%2231.7%22%20cx%3D%2260.102%22%20fill%3D%22%23fff%22/%3E%0A%20%3Cpath%20id%3D%22path16%22%20d%3D%22m170.51%2094.27c-0.7628%204.8812-1.991%209.9925-3.5039%2015.73-22.254%209.3418-40.012%2010.398-55.438%208.5215a61.964%2057.5%200%200%200%20-11.02%2032.707%2061.964%2057.5%200%200%200%205.9121%2024.359c38.986-7.6985%2068.715-40.328%2070.965-80.098a61.964%2057.5%200%200%200%20-6.916%20-1.2207z%22%20fill%3D%22%23217821%22/%3E%0A%3C/svg%3E%0A");
        background-size: 20px 20px;
      }
      ::content div.O {
        background: white;
        opacity: 0;
      }

      .hidden {
        visibility: hidden;
      }

      .gbs_stone {
        font-weight: bold;
        font-size: 8pt;
        width: 20px;
        height: 20px;
      }

      .gbs_stone:after {
        content: url("dist/components/op_bolita_azul.svg") url("dist/components/op_bolita_negra.svg") url("dist/components/op_bolita_roja.svg") url("dist/components/op_bolita_verde.svg");
        display: none;
      }

      .stone_amount {
        vertical-align: sub;
      }

      /*# sourceMappingURL=style.css.map */

    </style>

    <template is="dom-if" if="{{amount}}">
      <div class$="gbs_stone {{color}} {{cssClass()}}">
        <span class="stone_amount">{{amount}}</span>
      </div>
    </template>

    <template is="dom-if" if="{{!amount}}">
      <div class$="gbs_stone O {{cssClass()}}"></div>
    </template>

  </template>
  <script>
    Polymer({
      is: 'gs-stone',
      properties: {
        color: String,
        amount: {
          type: Number,
          value: 0,
          notify: true,
          observer: "_sanitizeAmount"
        },
        options: Object
      },
      listeners: {
        click: "_leftClick",
        contextmenu: "_rightClick"
      },
      ready: function() {
        this._sanitizeAmount();
        if (this.options == null) {
          throw new Error("The options are required");
        }
      },
      cssClass: function() {
        if (this.options.editable) {
          return "pointer";
        } else {
          return "";
        }
      },
      _sanitizeAmount: function() {
        if (!(typeof this.amount === "number" && this.amount >= 0)) {
          return this.amount = 0;
        }
      },
      _leftClick: function(event) {
        var board;
        board = this.domHost.domHost;
        if (!this.options.editable || board.isCtrlPressed()) {
          return;
        }
        this.fire("board-changed");
        this.amount += 1;
        return event.stopPropagation();
      },
      _rightClick: function(event) {
        if (!this.options.editable) {
          return;
        }
        event.preventDefault();
        this.fire("board-changed");
        return this.amount -= 1;
      }
    });

  </script>
</dom-module><dom-module id="cell-dresser" assetpath="/">
  <template>
    <style>
      

      /*# sourceMappingURL=style.css.map */

    </style>


  </template>
  <script>
    Polymer({
      is: 'cell-dresser',
      getImage: function(cell, attire) {
        var _ref;
        if ((attire == null) || !attire.enabled) {
          return;
        }
        return attire != null ? (_ref = attire.rules.filter((function(_this) {
          return function(rule) {
            return _this._doesSatisfyRule(cell, rule);
          };
        })(this))[0]) != null ? _ref.image : void 0 : void 0;
      },
      _doesSatisfyRule: function(cell, rule) {
        var itSatisfies;
        itSatisfies = (function(_this) {
          return function(color) {
            return _this._doesSatisfyQuantity(cell[color], rule.when[color]);
          };
        })(this);
        return ["red", "blue", "green", "black"].reduce((function(_this) {
          return function(previousCondition, color) {
            return previousCondition && itSatisfies(color);
          };
        })(this), true);
      },
      _doesSatisfyQuantity: function(quantity, expectedQuantity) {
        if (quantity == null) {
          quantity = 0;
        }
        switch (expectedQuantity) {
          case "*":
            return true;
          case "+":
            return quantity > 0;
          default:
            return quantity === expectedQuantity;
        }
      }
    });

  </script>
</dom-module><dom-module id="gs-cell" assetpath="dist/components/">
  <template>
    <style>
      .pointer {
        cursor: pointer;
      }

      .unselectable {
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
      }

      .gh {
        /* position of the header in the board */
        background: rgba(221, 221, 136, 0.7);
        outline: 3px solid #CC0000;
      }

      div.gc {
        background-image: var(--background-url);
        background-repeat: no-repeat;
        background-position: center;
        background-size: cover;
      }

      table.gc {
        /* cell table */
        border-style: none;
        border: solid black 0px;
      }

      .gc tr {
        border-style: none;
        border: 0px;
      }

      .gc td {
        visibility: var(--stones-visibility);
        border-style: none;
        border: solid black 0px;
        width: 15px;
        height: 15px;
        text-align: center;
        color: #F3F3E9;
      }

      .gc td div {
        line-height: 2;
      }

      /*# sourceMappingURL=style.css.map */

    </style>

    <cell-dresser id="dresser"></cell-dresser>

    <template is="dom-if" if="true">
      <!-- // ^ (otherwise, the cssClass() does not refresh itself) -->
      <div class$="gc {{cssClass(header)}}">
        <table>
          <tbody>
            <tr>
              <td>
                <gs-stone color="blue" amount="{{cell.blue}}" options="{{options}}"></gs-stone>
              </td>
              <td>
                <gs-stone color="black" amount="{{cell.black}}" options="{{options}}"></gs-stone>
              </td>
            </tr>
            <tr>
              <td>
                <gs-stone color="red" amount="{{cell.red}}" options="{{options}}"></gs-stone>
              </td>
              <td>
                <gs-stone color="green" amount="{{cell.green}}" options="{{options}}"></gs-stone>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </template>

  </template>
  <script>
    Polymer({
      is: 'gs-cell',
      properties: {
        cellIndex: Number,
        rowIndex: Number,
        cell: Object,
        table: Array,
        attire: {
          type: Object,
          notify: "_updateBackgroundUrl"
        },
        backgroundUrl: String,
        header: {
          type: Object,
          notify: true
        },
        options: Object
      },
      listeners: {
        click: "_leftClick"
      },
      observers: ['_updateBackgroundUrl(attire.enabled)'],
      ready: function() {
        this._validateData();
        return this._updateBackgroundUrl();
      },
      cssClass: function(header) {
        var theHeaderIsHere;
        if (header == null) {
          return "";
        }
        theHeaderIsHere = this.x() === header.x && this.y() === header.y;
        if (theHeaderIsHere) {
          return "gh";
        } else {
          return "";
        }
      },
      x: function() {
        return this.cellIndex;
      },
      y: function() {
        return this.domHost.getRowNumber(this.table, this.rowIndex);
      },
      _leftClick: function(event) {
        if (!this.options.editable) {
          return;
        }
        if (this.domHost.isCtrlPressed()) {
          this.fire("board-changed");
          return this.header = {
            x: this.x(),
            y: this.y()
          };
        }
      },
      _validateData: function() {
        if (this.table == null) {
          throw new Error("The table is required");
        }
        if (this.header == null) {
          throw new Error("The header is required");
        }
        if (this.options == null) {
          throw new Error("The options are required");
        }
        if (this.cell == null) {
          throw new Error("The cell is required");
        }
        if ((this.cellIndex == null) || (this.rowIndex == null)) {
          throw new Error("The coordinates are required");
        }
      },
      _updateBackgroundUrl: function() {
        var url;
        url = this.$.dresser.getImage(this.cell, this.attire);
        this.customStyle["--stones-visibility"] = url != null ? "hidden" : "visible";
        if (url != null) {
          this.customStyle["--background-url"] = "url(" + url + ")";
        } else {
          delete this.customStyle["--background-url"];
        }
        return this.updateStyles();
      }
    });

  </script>
</dom-module><dom-module id="key-tracker" assetpath="dist/components/">
  <template>
    <style>
      

      /*# sourceMappingURL=style.css.map */

    </style>


  </template>
  <script>
    Polymer({
      is: 'key-tracker',
      ready: function() {
        this._pressedKeys = [];
        this._listenTo("keydown", (function(_this) {
          return function(ev) {
            var key;
            key = ev.key || ev.keyIdentifier;
            if (!_this.isPressed(key)) {
              return _this._pressedKeys.push(key);
            }
          };
        })(this));
        return this._listenTo("keyup", (function(_this) {
          return function(ev) {
            var key;
            key = ev.key || ev.keyIdentifier;
            if (_this.isPressed(key)) {
              return _this._pressedKeys.splice(_this._indexOf(key), 1);
            }
          };
        })(this));
      },
      isPressed: function(key) {
        return this._indexOf(key) !== -1;
      },
      _indexOf: function(key) {
        return this._pressedKeys.indexOf(key);
      },
      _listenTo: function(eventName, handler) {
        return window.addEventListener(eventName, handler);
      }
    });

  </script>
</dom-module><dom-module id="gs-board" assetpath="dist/components/">
  <template>
    <style>
      .pointer {
        cursor: pointer;
      }

      .unselectable {
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
      }

      table.gbs_board {
        border-style: none;
        border: solid black 0px;
        border-spacing: 0;
        border-collapse: collapse;
        font-family: Arial, Helvetica, sans-serif;
        font-size: 9pt;
        display: inline-block;
        vertical-align: top;
      }

      .gbs_board td {
        margin: 0;
        padding: 2px;
        border: solid #888 1px;
        width: 30px;
        height: 30px;
      }

      .gbs_board td.lv {
        /* labels at the side */
        text-align: center;
        vertical-align: middle;
        border-style: none;
        border: solid black 0px;
        background: #ddd;
        width: 15px;
      }

      .gbs_board td.lh {
        /* labels at the top / bottom */
        text-align: center;
        vertical-align: middle;
        border-style: none;
        border: solid black 0px;
        background: #ddd;
        height: 15px;
      }

      .gbs_board td.lx {
        /* corner */
        border-style: none;
        border: solid black 0px;
        background: #ddd;
        width: 15px;
        height: 15px;
      }

      .gbs_board td.top_left {
        -webkit-border-top-left-radius: 10px;
        -moz-border-top-left-radius: 10px;
        border-top-left-radius: 10px;
      }

      .gbs_board td.top_right {
        -webkit-border-top-right-radius: 10px;
        -moz-border-top-right-radius: 10px;
        border-top-right-radius: 10px;
      }

      .gbs_board td.bottom_left {
        -webkit-border-bottom-left-radius: 10px;
        -moz-border-bottom-left-radius: 10px;
        border-bottom-left-radius: 10px;
      }

      .gbs_board td.bottom_right {
        -webkit-border-bottom-right-radius: 10px;
        -moz-border-bottom-right-radius: 10px;
        border-bottom-right-radius: 10px;
      }

      table.boom {
        background-image: url("dist/components/boom.png");
        background-size: contain;
        background-repeat: no-repeat;
        background-position: center;
      }

      /*# sourceMappingURL=style.css.map */

    </style>

    <key-tracker id="keyTracker"></key-tracker>

    <table class$="gbs_board ui-widget-content {{boomCssClass(boom)}}">
      <tbody>
        <tr>
          <td class="lx top_left"></td>
          <template is="dom-repeat" items="{{columnIndexes}}" as="columnIndex">
            <td class="lh">{{columnIndex}}</td>
          </template>
          <td class="lx top_right"></td>
        </tr>
        <template is="dom-repeat" items="{{table}}" as="row" index-as="rowIndex">
          <tr>
            <td class="lv">{{getRowNumber(table, rowIndex)}}</td>
            <template is="dom-repeat" items="{{row}}" as="cell" index-as="cellIndex">
              <td>
                <gs-cell cell-index="{{cellIndex}}" row-index="{{rowIndex}}" cell="{{cell}}" table="{{table}}" header="{{header}}" options="{{options}}" attire="{{attire}}"></gs-cell>
              </td>
            </template>
            <td class="lv">{{getRowNumber(table, rowIndex)}}</td>
          </tr>
        </template>
        <tr>
          <td class="lx bottom_left"></td>
          <template is="dom-repeat" items="{{columnIndexes}}" as="columnIndex">
            <td class="lh">{{columnIndex}}</td>
          </template>
          <td class="lx bottom_right"></td>
        </tr>
      </tbody>
    </table>

  </template>
  <script>
    Polymer({
      is: 'gs-board',
      properties: {
        table: Array,
        size: {
          type: Object,
          value: {
            x: 2,
            y: 2
          },
          observer: "_updateSize"
        },
        header: {
          type: Object,
          value: {
            x: 0,
            y: 0
          }
        },
        options: Object,
        boom: {
          type: Boolean,
          value: false
        },
        attire: {
          type: Object
        }
      },
      ready: function() {
        this._initializeTable();
        return this._initializeOptions();
      },
      getRowNumber: function(table, rowIndex) {
        return table.length - 1 - rowIndex;
      },
      isCtrlPressed: function() {
        return this.$.keyTracker.isPressed("Control");
      },
      boomCssClass: function(boom) {
        if (boom) {
          return "boom";
        } else {
          return "";
        }
      },
      _initializeTable: function() {
        var _ref;
        if (this.table != null) {
          return this.size = {
            x: ((_ref = this.table[0]) != null ? _ref.length : void 0) || 0,
            y: this.table.length || 0
          };
        } else {
          this.table = [];
          return this._fillTable();
        }
      },
      _fillTable: function() {
        var i, j, limit, table, _base, _i, _j, _ref, _ref1;
        if (this.table == null) {
          return;
        }
        limit = function(array, limit) {
          return array.slice(0, limit);
        };
        table = this.table.slice().reverse();
        for (i = _i = 0, _ref = this.size.y; 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {
          for (j = _j = 0, _ref1 = this.size.x; 0 <= _ref1 ? _j < _ref1 : _j > _ref1; j = 0 <= _ref1 ? ++_j : --_j) {
            if (table[i] == null) {
              table[i] = [];
            }
            table[i] = limit(table[i], this.size.x);
            if ((_base = table[i])[j] == null) {
              _base[j] = {};
            }
          }
        }
        table = limit(table, this.size.y);
        this.table = table.reverse();
        return this._forceHeaderSet();
      },
      _initializeOptions: function() {
        var _base;
        if (this.options == null) {
          this.options = {};
        }
        return (_base = this.options).editable != null ? _base.editable : _base.editable = false;
      },
      _updateSize: function() {
        var _i, _ref, _results;
        this._fillTable();
        this.columnIndexes = (function() {
          _results = [];
          for (var _i = 0, _ref = this.size.x; 0 <= _ref ? _i < _ref : _i > _ref; 0 <= _ref ? _i++ : _i--){ _results.push(_i); }
          return _results;
        }).apply(this);
        return this.fire("board-changed");
      },
      _forceHeaderSet: function() {
        var x, y;
        x = Math.min(this.header.x, this.size.x - 1);
        y = Math.min(this.header.y, this.size.y - 1);
        this.header = null;
        return this.header = {
          x: x,
          y: y
        };
      }
    });

  </script>
</dom-module></div></body></html>