<link rel="import" href="../../../../gs-panels/dist/components/gs-panel-root.html"><link rel="import" href="../../../../iron-icon/iron-icon.html"><link rel="import" href="../../../../iron-input/iron-input.html"><link rel="import" href="../../../../juicy-jsoneditor/src/juicy-jsoneditor.html"><link rel="import" href="../../../dist/components/gs-tablero.min.html"><dom-module id="tablero-demo"><template><style>.workbench{width:100%;float:left}.workbench .tablero-wrap-json,.workbench .tablero-panels{margin:0px}.workbench .tablero-panels{width:auto;margin-left:310px;height:300px}.workbench .tablero-wrap-json{width:300px;height:300px;float:left}.buttons{float:left;width:98%;padding:0px 2% 10px 2%}.buttons .pull-right{float:right;margin-left:4px}.buttons .btn{background-color:#4CAF50;border:none;color:white;padding:5px 10px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin-top:5px;cursor:pointer}</style><div class="buttons"><span>columnas: </span><input is="iron-input" bind-value="{{columns}}"> <span>filas: </span><input is="iron-input" bind-value="{{rows}}"> <button on-click="resize_board" class="btn">Establecer dimenciones</button><br><button on-click="json_to_edit" class="btn">Json &gt;&gt; editable</button> <button on-click="edit_to_json" class="btn">Json &lt;&lt; editable</button> <button class="btn pull-right">Editable &lt;&lt; estático</button> <button class="btn pull-right">Editable &gt;&gt; estático</button></div><div class="workbench"><div class="tablero-wrap-json"><juicy-jsoneditor id="jsoneditor" style="height: 300px" json="{{jsonModel}}"></juicy-jsoneditor></div><div class="tablero-panels"><gs-panel-root id="gsPanels" root-height="400"></gs-panel-root></div></div></template><script>var deepCopy,negro4,rojo_3,tablero_inicial,vacio0,varias,verde2;vacio0=function(){return{}},verde2=function(){return{verde:2}},rojo_3=function(){return{rojo:3}},negro4=function(){return{negro:4}},varias=function(){return{negro:4,rojo:4}},tablero_inicial=function(){return[[verde2(),vacio0(),vacio0(),vacio0(),vacio0(),vacio0(),vacio0(),vacio0()],[verde2(),vacio0(),vacio0(),vacio0(),rojo_3(),vacio0(),vacio0(),vacio0()],[vacio0(),vacio0(),rojo_3(),vacio0(),vacio0(),vacio0(),vacio0(),vacio0()],[rojo_3(),rojo_3(),vacio0(),vacio0(),vacio0(),vacio0(),rojo_3(),vacio0()],[vacio0(),vacio0(),vacio0(),vacio0(),rojo_3(),vacio0(),vacio0(),vacio0()],[vacio0(),vacio0(),vacio0(),vacio0(),vacio0(),vacio0(),vacio0(),vacio0()],[vacio0(),vacio0(),rojo_3(),vacio0(),rojo_3(),vacio0(),vacio0(),vacio0()],[vacio0(),vacio0(),vacio0(),vacio0(),vacio0(),vacio0(),vacio0(),vacio0()]]},deepCopy=function(a){var b;switch(b=void 0,typeof a){case"object":if(null===a)b=null;else switch(toString.call(a)){case"[object Array]":b=a.map(deepCopy);break;case"[object Date]":b=new Date(a);break;case"[object RegExp]":b=new RegExp(a);break;default:b=Object.keys(a).reduce(function(b,c){return b[c]=deepCopy(a[c]),b},{})}break;default:b=a}return b},Polymer({is:"tablero-demo",properties:{jsonModel:{type:Object,value:tablero_inicial()},rows:{type:Number},columns:{type:Number}},AFTER:"AFTER",BEFORE:"BEFORE",IDE:"IDE",ready:function(){return this.panels=this.$.gsPanels,this.before=this.create_board(!0),this.after=this.create_board(!1)},attached:function(){return this.panels.add_horizontal(this.IDE),this.panels.add(this.before,{id:this.BEFORE,into:this.IDE}),this.panels.add(this.after,{id:this.AFTER,into:this.IDE})},create_board:function(a){var b;return b=document.createElement("gs-tablero"),b.board=tablero_inicial(),b.editable=a,b},edit_to_json:function(){return this.jsonModel=deepCopy(this.before.board)},json_to_edit:function(){return this.before.board=deepCopy(this.jsonModel)},resize_board:function(){var a,b,c,d,e,f,g,h,i,j,k,l;if(a=deepCopy(this.before.board),a.length<this.rows)for(b=e=i=a.length,j=this.rows;j>=i?j>e:e>j;b=j>=i?++e:--e)a.push(function(){var a,b,c;for(c=[],d=a=0,b=this.columns.length;b>=0?b>a:a>b;d=b>=0?++a:--a)c.push({});return c}.call(this));else a.length=this.rows;for(f=0,h=a.length;h>f;f++)if(c=a[f],c.length<this.columns)for(b=g=k=c.length,l=this.columns;l>=k?l>g:g>l;b=l>=k?++g:--g)c.push({});else c.length=this.columns;return this.before.board=a}});</script></dom-module>