<!DOCTYPE html><html><head><meta charset="utf-8"></head><body><div hidden="" by-vulcanize=""><dom-module id="gs-stone" assetpath=""><template><style>.pointer{cursor:pointer;}.unselectable,.gbs_stone{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}::content div.blue{background-image:url("data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%20standalone%3D%22no%22%3F%3E%0A%3Csvg%20id%3D%22svg2%22%20xmlns%3Ardf%3D%22http%3A//www.w3.org/1999/02/22-rdf-syntax-ns%23%22%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20height%3D%2250mm%22%20width%3D%2250mm%22%20version%3D%221.1%22%20xmlns%3Acc%3D%22http%3A//creativecommons.org/ns%23%22%20xmlns%3Adc%3D%22http%3A//purl.org/dc/elements/1.1/%22%20viewBox%3D%220%200%20177.16535%20177.16535%22%3E%0A%20%3Cmetadata%20id%3D%22metadata4%22%3E%0A%20%20%3Crdf%3ARDF%3E%0A%20%20%20%3Ccc%3AWork%20rdf%3Aabout%3D%22%22%3E%0A%20%20%20%20%3Cdc%3Aformat%3Eimage/svg+xml%3C/dc%3Aformat%3E%0A%20%20%20%20%3Cdc%3Atype%20rdf%3Aresource%3D%22http%3A//purl.org/dc/dcmitype/StillImage%22/%3E%0A%20%20%20%20%3Cdc%3Atitle/%3E%0A%20%20%20%3C/cc%3AWork%3E%0A%20%20%3C/rdf%3ARDF%3E%0A%20%3C/metadata%3E%0A%20%3Cellipse%20id%3D%22ellipse8%22%20rx%3D%2288.184%22%20ry%3D%2288.715%22%20cy%3D%2288.64%22%20cx%3D%2288.641%22%20fill%3D%22%232a7fff%22/%3E%0A%20%3Cpath%20id%3D%22path10%22%20d%3D%22m171.5%2059.51c3.8341%209.671%205.9385%2020.183%205.9385%2031.178%200%2047.861-39.767%2086.675-88.804%2086.675-49.035%200-88.802-38.814-88.802-86.675%200-11.546%202.321-22.563%206.5203-32.638%200.65931%201.4104%201.2522%202.2175%202.3526%203.2916%200.35416%201.0386%200.78421%201.6358%201.3755%202.1681-7.3662%2020.277-6.1393%2043.028%203.4436%2062.435%2054.759-46.096%2078.905%2015.358%20153.35-15.895%205.0041-18.979%207.0041-31.152-1.2712-50.54h5.8942z%22%20fill%3D%22%230055d4%22/%3E%0A%20%3Cellipse%20id%3D%22ellipse12%22%20rx%3D%227.2374%22%20ry%3D%227.2809%22%20cy%3D%2240.65%22%20cx%3D%2255.881%22%20fill%3D%22%23fff%22/%3E%0A%20%3Cellipse%20id%3D%22ellipse14%22%20rx%3D%224.0266%22%20ry%3D%224.0508%22%20cy%3D%2231.7%22%20cx%3D%2260.102%22%20fill%3D%22%23fff%22/%3E%0A%20%3Cpath%20id%3D%22path16%22%20d%3D%22m170.51%2094.27c-0.7628%204.8812-1.991%209.9925-3.5039%2015.73-22.254%209.3418-40.012%2010.398-55.438%208.5215a61.964%2057.5%200%200%200%20-11.02%2032.707%2061.964%2057.5%200%200%200%205.9121%2024.359c38.986-7.6985%2068.715-40.328%2070.965-80.098a61.964%2057.5%200%200%200%20-6.916%20-1.2207z%22%20fill%3D%22%2304a%22/%3E%0A%3C/svg%3E%0A");background-size:20px 20px;}::content div.black{background-image:url("data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%20standalone%3D%22no%22%3F%3E%0A%3Csvg%20id%3D%22svg2%22%20xmlns%3Ardf%3D%22http%3A//www.w3.org/1999/02/22-rdf-syntax-ns%23%22%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20height%3D%2250mm%22%20width%3D%2250mm%22%20version%3D%221.1%22%20xmlns%3Acc%3D%22http%3A//creativecommons.org/ns%23%22%20xmlns%3Adc%3D%22http%3A//purl.org/dc/elements/1.1/%22%20viewBox%3D%220%200%20177.16535%20177.16535%22%3E%0A%20%3Cmetadata%20id%3D%22metadata4%22%3E%0A%20%20%3Crdf%3ARDF%3E%0A%20%20%20%3Ccc%3AWork%20rdf%3Aabout%3D%22%22%3E%0A%20%20%20%20%3Cdc%3Aformat%3Eimage/svg+xml%3C/dc%3Aformat%3E%0A%20%20%20%20%3Cdc%3Atype%20rdf%3Aresource%3D%22http%3A//purl.org/dc/dcmitype/StillImage%22/%3E%0A%20%20%20%20%3Cdc%3Atitle/%3E%0A%20%20%20%3C/cc%3AWork%3E%0A%20%20%3C/rdf%3ARDF%3E%0A%20%3C/metadata%3E%0A%20%3Cellipse%20id%3D%22ellipse8%22%20rx%3D%2288.184%22%20ry%3D%2288.715%22%20cy%3D%2288.64%22%20cx%3D%2288.641%22%20fill%3D%22%23292929%22/%3E%0A%20%3Cpath%20id%3D%22path10%22%20d%3D%22m171.5%2059.51c3.8341%209.671%205.9385%2020.183%205.9385%2031.178%200%2047.861-39.767%2086.675-88.804%2086.675-49.035%200-88.802-38.814-88.802-86.675%200-11.546%202.321-22.563%206.5203-32.638%200.65931%201.4104%201.2522%202.2175%202.3526%203.2916%200.35416%201.0386%200.78421%201.6358%201.3755%202.1681-7.3662%2020.277-6.1393%2043.028%203.4436%2062.435%2054.759-46.096%2078.905%2015.358%20153.35-15.895%205.0041-18.979%207.0041-31.152-1.2712-50.54h5.8942z%22%20fill%3D%22%23202020%22/%3E%0A%20%3Cellipse%20id%3D%22ellipse12%22%20rx%3D%227.2374%22%20ry%3D%227.2809%22%20cy%3D%2240.65%22%20cx%3D%2255.881%22%20fill%3D%22%23fff%22/%3E%0A%20%3Cellipse%20id%3D%22ellipse14%22%20rx%3D%224.0266%22%20ry%3D%224.0508%22%20cy%3D%2231.7%22%20cx%3D%2260.102%22%20fill%3D%22%23fff%22/%3E%0A%20%3Cpath%20id%3D%22path16%22%20d%3D%22m170.51%2094.27c-0.7628%204.8812-1.991%209.9925-3.5039%2015.73-22.254%209.3418-40.012%2010.398-55.438%208.5215a61.964%2057.5%200%200%200%20-11.02%2032.707%2061.964%2057.5%200%200%200%205.9121%2024.359c38.986-7.6985%2068.715-40.328%2070.965-80.098a61.964%2057.5%200%200%200%20-6.916%20-1.2207z%22%20fill%3D%22%23131313%22/%3E%0A%3C/svg%3E%0A");background-size:20px 20px;}::content div.red{background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3Ardf%3D%22http%3A//www.w3.org/1999/02/22-rdf-syntax-ns%23%22%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20height%3D%2250mm%22%20width%3D%2250mm%22%20version%3D%221.1%22%20xmlns%3Acc%3D%22http%3A//creativecommons.org/ns%23%22%20xmlns%3Adc%3D%22http%3A//purl.org/dc/elements/1.1/%22%20viewBox%3D%220%200%20177.16535%20177.16535%22%3E%0A%3Cmetadata%3E%0A%3Crdf%3ARDF%3E%0A%3Ccc%3AWork%20rdf%3Aabout%3D%22%22%3E%0A%3Cdc%3Aformat%3Eimage/svg+xml%3C/dc%3Aformat%3E%0A%3Cdc%3Atype%20rdf%3Aresource%3D%22http%3A//purl.org/dc/dcmitype/StillImage%22/%3E%0A%3Cdc%3Atitle/%3E%0A%3C/cc%3AWork%3E%0A%3C/rdf%3ARDF%3E%0A%3C/metadata%3E%0A%3Cg%20transform%3D%22translate%280%20-875.2%29%22%3E%0A%3Cellipse%20rx%3D%2288.184%22%20ry%3D%2288.715%22%20cy%3D%22963.84%22%20cx%3D%2288.641%22%20fill%3D%22%23d40000%22/%3E%0A%3Cpath%20fill%3D%22%23b10000%22%20d%3D%22m171.5%20934.71c3.8341%209.671%205.9385%2020.183%205.9385%2031.178%200%2047.861-39.767%2086.675-88.804%2086.675-49.035%200-88.802-38.814-88.802-86.675%200-11.546%202.321-22.563%206.5203-32.638%200.65931%201.4104%201.2522%202.2175%202.3526%203.2916%200.35416%201.0386%200.78421%201.6358%201.3755%202.1681-7.3662%2020.277-6.1393%2043.028%203.4436%2062.435%2054.759-46.096%2078.905%2015.358%20153.35-15.895%205.0041-18.979%207.0041-31.152-1.2712-50.54h5.8942z%22/%3E%0A%3Cellipse%20rx%3D%227.2374%22%20ry%3D%227.2809%22%20cy%3D%22915.85%22%20cx%3D%2255.881%22%20fill%3D%22%23fff%22/%3E%0A%3Cellipse%20rx%3D%224.0266%22%20ry%3D%224.0508%22%20cy%3D%22906.9%22%20cx%3D%2260.102%22%20fill%3D%22%23fff%22/%3E%0A%3Cpath%20fill%3D%22%23800%22%20d%3D%22m170.51%20969.47c-0.7628%204.8812-1.991%209.9925-3.5039%2015.73-22.254%209.3418-40.012%2010.398-55.438%208.5215a61.964%2057.5%200%200%200%20-11.02%2032.707%2061.964%2057.5%200%200%200%205.9121%2024.359c38.986-7.6985%2068.715-40.328%2070.965-80.098a61.964%2057.5%200%200%200%20-6.916%20-1.2207z%22/%3E%0A%3C/g%3E%0A%3C/svg%3E%0A");background-size:20px 20px;}::content div.green{background-image:url("data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%20standalone%3D%22no%22%3F%3E%0A%3Csvg%20id%3D%22svg2%22%20xmlns%3Ardf%3D%22http%3A//www.w3.org/1999/02/22-rdf-syntax-ns%23%22%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20height%3D%2250mm%22%20width%3D%2250mm%22%20version%3D%221.1%22%20xmlns%3Acc%3D%22http%3A//creativecommons.org/ns%23%22%20xmlns%3Adc%3D%22http%3A//purl.org/dc/elements/1.1/%22%20viewBox%3D%220%200%20177.16535%20177.16535%22%3E%0A%20%3Cmetadata%20id%3D%22metadata4%22%3E%0A%20%20%3Crdf%3ARDF%3E%0A%20%20%20%3Ccc%3AWork%20rdf%3Aabout%3D%22%22%3E%0A%20%20%20%20%3Cdc%3Aformat%3Eimage/svg+xml%3C/dc%3Aformat%3E%0A%20%20%20%20%3Cdc%3Atype%20rdf%3Aresource%3D%22http%3A//purl.org/dc/dcmitype/StillImage%22/%3E%0A%20%20%20%20%3Cdc%3Atitle/%3E%0A%20%20%20%3C/cc%3AWork%3E%0A%20%20%3C/rdf%3ARDF%3E%0A%20%3C/metadata%3E%0A%20%3Cellipse%20id%3D%22ellipse8%22%20rx%3D%2288.184%22%20ry%3D%2288.715%22%20cy%3D%2288.64%22%20cx%3D%2288.641%22%20fill%3D%22%2337c837%22/%3E%0A%20%3Cpath%20id%3D%22path10%22%20d%3D%22m171.5%2059.51c3.8341%209.671%205.9385%2020.183%205.9385%2031.178%200%2047.861-39.767%2086.675-88.804%2086.675-49.035%200-88.802-38.814-88.802-86.675%200-11.546%202.321-22.563%206.5203-32.638%200.65931%201.4104%201.2522%202.2175%202.3526%203.2916%200.35416%201.0386%200.78421%201.6358%201.3755%202.1681-7.3662%2020.277-6.1393%2043.028%203.4436%2062.435%2054.759-46.096%2078.905%2015.358%20153.35-15.895%205.0041-18.979%207.0041-31.152-1.2712-50.54h5.8942z%22%20fill%3D%22%232ca02c%22/%3E%0A%20%3Cellipse%20id%3D%22ellipse12%22%20rx%3D%227.2374%22%20ry%3D%227.2809%22%20cy%3D%2240.65%22%20cx%3D%2255.881%22%20fill%3D%22%23fff%22/%3E%0A%20%3Cellipse%20id%3D%22ellipse14%22%20rx%3D%224.0266%22%20ry%3D%224.0508%22%20cy%3D%2231.7%22%20cx%3D%2260.102%22%20fill%3D%22%23fff%22/%3E%0A%20%3Cpath%20id%3D%22path16%22%20d%3D%22m170.51%2094.27c-0.7628%204.8812-1.991%209.9925-3.5039%2015.73-22.254%209.3418-40.012%2010.398-55.438%208.5215a61.964%2057.5%200%200%200%20-11.02%2032.707%2061.964%2057.5%200%200%200%205.9121%2024.359c38.986-7.6985%2068.715-40.328%2070.965-80.098a61.964%2057.5%200%200%200%20-6.916%20-1.2207z%22%20fill%3D%22%23217821%22/%3E%0A%3C/svg%3E%0A");background-size:20px 20px;}::content div.O{background:white;opacity:0;}.hidden{visibility:hidden;}.gbs_stone{font-weight:bold;font-size:8pt;width:20px;height:20px;}.stone_amount{vertical-align:sub;}</style><template is="dom-if" if="{{amount}}"><div class$="gbs_stone {{color}} {{cssClass()}}"><span class="stone_amount">{{amount}}</span></div></template><template is="dom-if" if="{{!amount}}"><div class$="gbs_stone O {{cssClass()}}"></div></template></template><script>Polymer({is:"gs-stone",properties:{color:String,amount:{type:Number,value:0,notify:!0,observer:"_sanitizeAmount"},options:Object},listeners:{click:"_leftClick",contextmenu:"_rightClick"},ready:function(){if(this._sanitizeAmount(),null==this.options)throw new Error("The options are required")},cssClass:function(){return this.options.editable?"pointer":""},_sanitizeAmount:function(){if(!("number"==typeof this.amount&&this.amount>=0))return this.amount=0},_leftClick:function(e){var t;if(t=this.domHost.domHost,this.options.editable&&!t.isCtrlPressed())return this.fire("board-changed"),this.amount+=1,e.stopPropagation()},_rightClick:function(e){if(this.options.editable)return e.preventDefault(),this.fire("board-changed"),this.amount-=1}});</script></dom-module><dom-module id="cell-dresser" assetpath=""><template><style></style></template><script>Polymer({is:"cell-dresser",getImage:function(e,t){var n;if(null!=t&&t.enabled)return null!=t&&null!=(n=t.rules.filter(function(t){return function(n){return t._doesSatisfyRule(e,n)}}(this))[0])?n.image:void 0},_doesSatisfyRule:function(e,t){var n;return n=function(n){return function(i){return n._doesSatisfyQuantity(e[i],t.when[i])}}(this),["red","blue","green","black"].reduce(function(e){return function(e,t){return e&&n(t)}}(this),!0)},_doesSatisfyQuantity:function(e,t){switch(null==e&&(e=0),t){case"*":return!0;case"+":return e>0;default:return e===t}}});</script></dom-module><dom-module id="gs-cell" assetpath="dist/components/"><template><style>.pointer{cursor:pointer;}.unselectable{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.gh{visibility:var(--header-visibility);background:rgba(221,221,136,0.7);outline:3px solid #CC0000;}div.gc{background-image:var(--background-url);background-repeat:no-repeat;background-position:center;background-size:cover;}table.gc{border-style:none;border:solid black 0px;}.gc tr{border-style:none;border:0px;}.gc td{visibility:var(--stones-visibility);border-style:none;border:solid black 0px;width:15px;height:15px;text-align:center;color:#F3F3E9;}.gc td div{line-height:2;}</style><cell-dresser id="dresser"></cell-dresser><template is="dom-if" if="true"><div class$="gc {{cssClass(header)}}"><table><tbody><tr><td><gs-stone color="blue" amount="{{cell.blue}}" options="{{options}}"></gs-stone></td><td><gs-stone color="black" amount="{{cell.black}}" options="{{options}}"></gs-stone></td></tr><tr><td><gs-stone color="red" amount="{{cell.red}}" options="{{options}}"></gs-stone></td><td><gs-stone color="green" amount="{{cell.green}}" options="{{options}}"></gs-stone></td></tr></tbody></table></div></template></template><script>Polymer({is:"gs-cell",properties:{cellIndex:Number,rowIndex:Number,cell:Object,table:Array,attire:{type:Object,notify:"_updateStyles"},boom:Boolean,backgroundUrl:String,header:{type:Object,notify:!0},options:Object},listeners:{click:"_leftClick"},observers:["_updateStyles(attire.enabled)"],ready:function(){return this._validateData(),this._updateStyles()},cssClass:function(e){var t;return null==e?"":(t=this.x()===e.x&&this.y()===e.y,t?"gh":"")},x:function(){return this.cellIndex},y:function(){return this.domHost.getRowNumber(this.table,this.rowIndex)},_leftClick:function(e){if(this.options.editable)return this.domHost.isCtrlPressed()?(this.fire("board-changed"),this.header={x:this.x(),y:this.y()}):void 0},_validateData:function(){if(null==this.table)throw new Error("The table is required");if(null==this.header)throw new Error("The header is required");if(null==this.options)throw new Error("The options are required");if(null==this.cell)throw new Error("The cell is required");if(null==this.cellIndex||null==this.rowIndex)throw new Error("The coordinates are required")},_updateStyles:function(){var e;return e=this.$.dresser.getImage(this.cell,this.attire),this.customStyle["--stones-visibility"]=null!=e||this.boom?"hidden":"visible",this.customStyle["--header-visibility"]=!this.boom,null!=e?this.customStyle["--background-url"]="url("+e+")":delete this.customStyle["--background-url"],this.updateStyles()}});</script></dom-module><dom-module id="key-tracker" assetpath="dist/components/"><template><style></style></template><script>Polymer({is:"key-tracker",ready:function(){return this._pressedKeys=[],this._listenTo("keydown",function(e){return function(t){var n;if(n=t.key||t.keyIdentifier,!e.isPressed(n))return e._pressedKeys.push(n)}}(this)),this._listenTo("keyup",function(e){return function(t){var n;if(n=t.key||t.keyIdentifier,e.isPressed(n))return e._pressedKeys.splice(e._indexOf(n),1)}}(this))},isPressed:function(e){return this._indexOf(e)!==-1},_indexOf:function(e){return this._pressedKeys.indexOf(e)},_listenTo:function(e,t){return window.addEventListener(e,t)}});</script></dom-module><dom-module id="gs-board" assetpath="dist/components/"><template><style>.pointer{cursor:pointer;}.unselectable{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}table.gbs_board{border-style:none;border:solid black 0px;border-spacing:0;border-collapse:collapse;font-family:Arial,Helvetica,sans-serif;font-size:9pt;display:inline-block;vertical-align:top;}.gbs_board td{margin:0;padding:2px;border:solid #888 1px;width:30px;height:30px;}.gbs_board td.lv{text-align:center;vertical-align:middle;border-style:none;border:solid black 0px;background:#ddd;width:15px;}.gbs_board td.lh{text-align:center;vertical-align:middle;border-style:none;border:solid black 0px;background:#ddd;height:15px;}.gbs_board td.lx{border-style:none;border:solid black 0px;background:#ddd;width:15px;height:15px;}.gbs_board td.top_left{-webkit-border-top-left-radius:10px;-moz-border-top-left-radius:10px;border-top-left-radius:10px;}.gbs_board td.top_right{-webkit-border-top-right-radius:10px;-moz-border-top-right-radius:10px;border-top-right-radius:10px;}.gbs_board td.bottom_left{-webkit-border-bottom-left-radius:10px;-moz-border-bottom-left-radius:10px;border-bottom-left-radius:10px;}.gbs_board td.bottom_right{-webkit-border-bottom-right-radius:10px;-moz-border-bottom-right-radius:10px;border-bottom-right-radius:10px;}table.boom{background-image:url("dist/components/boom.png");background-size:contain;background-repeat:no-repeat;background-position:center;}</style><key-tracker id="keyTracker"></key-tracker><table class$="gbs_board ui-widget-content {{boomCssClass(boom)}}"><tbody><tr><td class="lx top_left"></td><template is="dom-repeat" items="{{columnIndexes}}" as="columnIndex"><td class="lh">{{columnIndex}}</td></template><td class="lx top_right"></td></tr><template is="dom-repeat" items="{{table}}" as="row" index-as="rowIndex"><tr><td class="lv">{{getRowNumber(table, rowIndex)}}</td><template is="dom-repeat" items="{{row}}" as="cell" index-as="cellIndex"><td><gs-cell cell-index="{{cellIndex}}" row-index="{{rowIndex}}" cell="{{cell}}" table="{{table}}" header="{{header}}" options="{{options}}" attire="{{attire}}" boom="{{boom}}"></gs-cell></td></template><td class="lv">{{getRowNumber(table, rowIndex)}}</td></tr></template><tr><td class="lx bottom_left"></td><template is="dom-repeat" items="{{columnIndexes}}" as="columnIndex"><td class="lh">{{columnIndex}}</td></template><td class="lx bottom_right"></td></tr></tbody></table></template><script>Polymer({is:"gs-board",properties:{table:Array,size:{type:Object,value:{x:2,y:2},observer:"_updateSize"},header:{type:Object,value:{x:0,y:0}},options:Object,boom:{type:Boolean,value:!1},attire:{type:Object}},ready:function(){return this._initializeTable(),this._initializeOptions()},getRowNumber:function(e,t){return e.length-1-t},isCtrlPressed:function(){return this.$.keyTracker.isPressed("Control")},boomCssClass:function(e){return e?"boom":""},_initializeTable:function(){var e;return null!=this.table?this.size={x:(null!=(e=this.table[0])?e.length:void 0)||0,y:this.table.length||0}:(this.table=[],this._fillTable())},_fillTable:function(){var e,t,n,i,r,o,s,a,l;if(null!=this.table){for(n=function(e,t){return e.slice(0,t)},i=this.table.slice().reverse(),e=o=0,a=this.size.y;0<=a?o<a:o>a;e=0<=a?++o:--o)for(t=s=0,l=this.size.x;0<=l?s<l:s>l;t=0<=l?++s:--s)null==i[e]&&(i[e]=[]),i[e]=n(i[e],this.size.x),null==(r=i[e])[t]&&(r[t]={});return i=n(i,this.size.y),this.table=i.reverse(),this._forceHeaderSet()}},_initializeOptions:function(){var e;return null==this.options&&(this.options={}),null!=(e=this.options).editable?e.editable:e.editable=!1},_updateSize:function(){var e;return this._fillTable(),this.columnIndexes=function(){e=[];for(var t=0,n=this.size.x;0<=n?t<n:t>n;0<=n?t++:t--)e.push(t);return e}.apply(this),this.fire("board-changed")},_forceHeaderSet:function(){var e,t;return e=Math.min(this.header.x,this.size.x-1),t=Math.min(this.header.y,this.size.y-1),this.header=null,this.header={x:e,y:t}}});</script></dom-module></div></body></html>